(function(c,b,a){c.formInputLatlng=function(e,m){var g={elemetAddr:null,mapClass:"",hiddeInput:true,map:{zoom:1,center:new b.maps.LatLng(15.45368,-31.640625),mapTypeControl:false,streetViewControl:false,navigationControlOptions:{style:b.maps.NavigationControlStyle.SMALL},mapTypeId:b.maps.MapTypeId.ROADMAP},errorLocation:function(){}};var i=this;var h=new b.maps.Geocoder();i.settings={};var l=function(){i.settings=c.extend({},g,m);i.el=e;d(i.el);f(i.el);j(i.el);try{navigator.geolocation.getCurrentPosition(k)}catch(n){i.settings.errorLocation()}if(i.settings.hiddeInput){i.el.css({position:"absolute",width:"1px",height:"1px"})}};var d=function(o){var n=c("<div></div>",{id:"inputLatLng"+Math.floor(Math.random()*69)});n.addClass(i.settings.mapClass);o.after(n);var p=new b.maps.Map(a.getElementById(n.attr("id")),i.settings.map);o.data("map",p);return o};var f=function(o){var p=o.data("map");var n=new b.maps.Marker({position:p.getCenter(),map:p,title:"You are here!"});o.data("marker",n)};var k=function(n){var o=i.el;var p=new b.maps.LatLng(n.coords.latitude,n.coords.longitude);var q=o.data("map");if(q){q.setCenter(p);q.setZoom(15)}};var j=function(o){var p=o.data("map");var n=o.data("marker");b.maps.event.addListener(p,"center_changed",function(){var q=this.getCenter();n.setPosition(q);o.attr("value",q.toUrlValue());if(i.settings.elemetAddr===null){return null}h.geocode({latLng:q},function(s,r){if(r==b.maps.GeocoderStatus.OK){i.settings.elemetAddr.attr("value",s[0].formatted_address)}return this})});if(i.settings.elemetAddr===null){return null}i.settings.elemetAddr.bind("change",function(s){var q=c(this).attr("value");var r=i.el.data("map");h.geocode({address:q},function(u,t){if(t==b.maps.GeocoderStatus.OK){r.setCenter(u[0].geometry.location)}return this});return this});return null};l()}})(jQuery,google,document);